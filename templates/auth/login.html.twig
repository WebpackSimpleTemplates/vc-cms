{% extends 'base.html.twig' %}

{% block title %}Вход{% endblock %}
{% block html_class %}bg-base-100{% endblock %}

{% block body %}
<img class="lg:h-80 h-40 bg-primary object-cover object-center w-full" src="/bg.jpg">
<form method="post" class="card p-4 bg-base-100 shadow-2xl mx-auto max-w-[90%] w-md -mt-15 gap-4">
    {% if error %}
        <div class="alert alert-error">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}
    {% if app.user %}
        <div class="alert alert-warning">
            Вы авторизованы как {{ app.user.userIdentifier }}, <a class="link" href="{{ path('app_logout') }}">Выйти</a>
        </div>
    {% endif %}
    <div>
        <img src="/logo.svg" class="w-30 mb-1">
        <div class="text-3xl font-semibold">
            Авторизация
        </div>
    </div>
    <div>
        <label class="label mb-1" for="username">Электронная почта</label>
        <label class="input w-full">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.4141 11.9312C13.1194 11.2331 12.6916 10.5989 12.1547 10.0641C11.6195 9.52767 10.9854 9.10001 10.2875 8.80469C10.2813 8.80156 10.275 8.8 10.2688 8.79688C11.2422 8.09375 11.875 6.94844 11.875 5.65625C11.875 3.51562 10.1407 1.78125 8.00004 1.78125C5.85941 1.78125 4.12504 3.51562 4.12504 5.65625C4.12504 6.94844 4.75785 8.09375 5.73129 8.79844C5.72504 8.80156 5.71879 8.80312 5.71254 8.80625C5.01254 9.10156 4.38441 9.525 3.84535 10.0656C3.30896 10.6009 2.8813 11.235 2.58598 11.9328C2.29585 12.616 2.13939 13.3485 2.12504 14.0906C2.12462 14.1073 2.12755 14.1239 2.13364 14.1394C2.13974 14.1549 2.14888 14.1691 2.16053 14.181C2.17218 14.193 2.1861 14.2025 2.20147 14.2089C2.21684 14.2154 2.23336 14.2188 2.25004 14.2188H3.18754C3.25629 14.2188 3.31098 14.1641 3.31254 14.0969C3.34379 12.8906 3.82816 11.7609 4.68441 10.9047C5.57035 10.0188 6.74691 9.53125 8.00004 9.53125C9.25316 9.53125 10.4297 10.0188 11.3157 10.9047C12.1719 11.7609 12.6563 12.8906 12.6875 14.0969C12.6891 14.1656 12.7438 14.2188 12.8125 14.2188H13.75C13.7667 14.2188 13.7832 14.2154 13.7986 14.2089C13.814 14.2025 13.8279 14.193 13.8396 14.181C13.8512 14.1691 13.8603 14.1549 13.8664 14.1394C13.8725 14.1239 13.8755 14.1073 13.875 14.0906C13.8594 13.3438 13.7047 12.6172 13.4141 11.9312ZM8.00004 8.34375C7.28285 8.34375 6.60785 8.06406 6.10004 7.55625C5.59223 7.04844 5.31254 6.37344 5.31254 5.65625C5.31254 4.93906 5.59223 4.26406 6.10004 3.75625C6.60785 3.24844 7.28285 2.96875 8.00004 2.96875C8.71723 2.96875 9.39223 3.24844 9.90004 3.75625C10.4079 4.26406 10.6875 4.93906 10.6875 5.65625C10.6875 6.37344 10.4079 7.04844 9.90004 7.55625C9.39223 8.06406 8.71723 8.34375 8.00004 8.34375Z" fill="black" fill-opacity="0.45"/></svg>
            <input type="email" value="{{ last_username }}" name="_username" id="username" class="grow" autocomplete="email" required autofocus>
        </label>
    </div>
    <div>
        <label class="label mb-1" for="password">Пароль</label>
        <label class="input w-full">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 7.25H11.9375V3.75C11.9375 2.64531 11.0422 1.75 9.9375 1.75H6.0625C4.95781 1.75 4.0625 2.64531 4.0625 3.75V7.25H3C2.72344 7.25 2.5 7.47344 2.5 7.75V13.75C2.5 14.0266 2.72344 14.25 3 14.25H13C13.2766 14.25 13.5 14.0266 13.5 13.75V7.75C13.5 7.47344 13.2766 7.25 13 7.25ZM5.1875 3.75C5.1875 3.26719 5.57969 2.875 6.0625 2.875H9.9375C10.4203 2.875 10.8125 3.26719 10.8125 3.75V7.25H5.1875V3.75ZM12.375 13.125H3.625V8.375H12.375V13.125ZM7.5625 10.9531V11.7812C7.5625 11.85 7.61875 11.9062 7.6875 11.9062H8.3125C8.38125 11.9062 8.4375 11.85 8.4375 11.7812V10.9531C8.56648 10.8605 8.66275 10.7294 8.71245 10.5786C8.76216 10.4278 8.76273 10.2651 8.71409 10.114C8.66545 9.96281 8.57011 9.831 8.44179 9.73749C8.31346 9.64398 8.15878 9.5936 8 9.5936C7.84122 9.5936 7.68654 9.64398 7.55821 9.73749C7.42989 9.831 7.33455 9.96281 7.28591 10.114C7.23727 10.2651 7.23784 10.4278 7.28755 10.5786C7.33725 10.7294 7.43352 10.8605 7.5625 10.9531Z" fill="black" fill-opacity="0.45"/></svg>
            <input type="password" name="_password" id="password" class="grow" autocomplete="current-password" required>
            <div class="cursor-pointer" id="show-pass">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7215 7.5972C14.1722 6.44002 13.5186 5.49627 12.7605 4.76595L11.9655 5.56095C12.6138 6.18048 13.1785 6.99095 13.6668 8.00033C12.3668 10.691 10.5215 11.9691 7.9996 11.9691C7.24262 11.9691 6.54538 11.8525 5.90788 11.6194L5.04648 12.4808C5.93189 12.8897 6.91627 13.0941 7.9996 13.0941C11.0027 13.0941 13.2434 11.53 14.7215 8.40189C14.7809 8.27609 14.8117 8.13868 14.8117 7.99955C14.8117 7.86041 14.7809 7.72301 14.7215 7.5972ZM13.7282 2.5872L13.0621 1.92033C13.0505 1.90871 13.0367 1.89949 13.0215 1.8932C13.0064 1.8869 12.9901 1.88367 12.9737 1.88367C12.9572 1.88367 12.941 1.8869 12.9258 1.8932C12.9106 1.89949 12.8968 1.90871 12.8852 1.92033L11.1763 3.62845C10.2341 3.1472 9.17523 2.90658 7.9996 2.90658C4.99648 2.90658 2.75585 4.47064 1.27773 7.59877C1.21831 7.72457 1.1875 7.86198 1.1875 8.00111C1.1875 8.14024 1.21831 8.27765 1.27773 8.40345C1.86825 9.6472 2.57919 10.6441 3.41054 11.3942L1.7571 13.0472C1.73368 13.0706 1.72052 13.1024 1.72052 13.1356C1.72052 13.1687 1.73368 13.2005 1.7571 13.2239L2.42413 13.891C2.44757 13.9144 2.47935 13.9275 2.51249 13.9275C2.54563 13.9275 2.57741 13.9144 2.60085 13.891L13.7282 2.76408C13.7398 2.75247 13.749 2.73868 13.7553 2.72351C13.7616 2.70833 13.7649 2.69207 13.7649 2.67564C13.7649 2.65921 13.7616 2.64295 13.7553 2.62777C13.749 2.6126 13.7398 2.59881 13.7282 2.5872ZM2.33241 8.00033C3.63398 5.3097 5.47929 4.03158 7.9996 4.03158C8.85179 4.03158 9.62663 4.17783 10.3296 4.47517L9.23116 5.57361C8.71096 5.29605 8.11532 5.19304 7.53211 5.27977C6.9489 5.36651 6.40901 5.63839 5.99209 6.05532C5.57516 6.47224 5.30328 7.01213 5.21655 7.59534C5.12982 8.17854 5.23283 8.77418 5.51038 9.29439L4.20695 10.5978C3.48554 9.96111 2.86366 9.09845 2.33241 8.00033ZM6.1871 8.00033C6.18738 7.7248 6.25264 7.45323 6.37759 7.20767C6.50254 6.9621 6.68365 6.74948 6.90621 6.58706C7.12878 6.42464 7.38651 6.31702 7.65849 6.27293C7.93046 6.22883 8.209 6.24952 8.47148 6.3333L6.27007 8.5347C6.21489 8.36195 6.1869 8.18168 6.1871 8.00033Z" fill="black" fill-opacity="0.45"/><path d="M7.93724 9.75019C7.88318 9.75019 7.8299 9.74769 7.77709 9.74285L6.95178 10.5682C7.44817 10.7583 7.989 10.8005 8.50888 10.6898C9.02877 10.5791 9.50546 10.3201 9.88132 9.94427C10.2572 9.56841 10.5161 9.09172 10.6268 8.57184C10.7376 8.05195 10.6953 7.51112 10.5052 7.01473L9.67989 7.84004C9.68474 7.89285 9.68724 7.94613 9.68724 8.0002C9.68736 8.23004 9.64218 8.45766 9.55428 8.67004C9.46638 8.88241 9.33748 9.07538 9.17495 9.23791C9.01242 9.40043 8.81946 9.52933 8.60708 9.61723C8.39471 9.70513 8.16709 9.75031 7.93724 9.75019Z" fill="black" fill-opacity="0.45"/></svg>
            </div>
        </label>
    </div>
    <input type="hidden" name="_csrf_token" data-controller="csrf-protection" value="{{ csrf_token('authenticate') }}">
    <button class="btn btn-lg btn-primary mt-2 text-white" type="submit">
        Войти
    </button>
</form>
<script>

    var password = document.getElementById('password');
    var showPass = document.getElementById('show-pass');

    showPass.onclick = function() {
        password.type = password.type === 'password' ? 'text' : 'password';
    }

</script>
{% endblock %}
